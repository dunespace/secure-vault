// Fix issues with contract state management
// Refactor staking logic
// Refactor contract event emission
